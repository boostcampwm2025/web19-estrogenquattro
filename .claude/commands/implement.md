# 문서 기반 구현

이슈 문서 또는 지정된 문서를 기반으로 개발하고, 문서와 다르게 구현해야 할 경우 반드시 사용자 승인을 받습니다.

## 사용법

- `/implement #이슈번호` - GitHub 이슈 기반 구현
- `/implement docs/plan/문서.md` - 계획 문서 기반 구현
- `/implement $ARGUMENTS` - 인자로 전달된 경로/이슈 기반 구현

## 실행 단계

### 1단계: 문서 로드 및 분석

**GitHub 이슈 (`#번호` 형식):**
```bash
gh issue view {번호} --repo boostcampwm2025/web19-estrogenquattro --json title,body,state,labels
```

**계획 문서 (파일 경로):**
- 해당 문서 읽기
- 관련 문서 (docs/architecture, docs/api 등) 추가 참조

### 2단계: 구현 요구사항 정리

문서에서 다음 항목을 추출하여 정리:

```markdown
## 구현 요구사항 (문서 기반)

### 필수 구현 항목
- [ ] (문서에 명시된 항목 1)
- [ ] (문서에 명시된 항목 2)
...

### 기술적 제약사항
- (문서에 명시된 제약 1)
- (문서에 명시된 제약 2)

### 참조 문서
- `docs/api/...`: (참조 이유)
- `docs/architecture/...`: (참조 이유)
```

정리한 내용을 사용자에게 보여주고 확인 후 진행합니다.

### 3단계: 구현 시작

**핵심 원칙: 문서 우선**

문서에 명시된 대로 구현합니다:
- API 엔드포인트, 요청/응답 형식
- 소켓 이벤트 명, 페이로드 구조
- 엔티티 필드, 관계
- 비즈니스 로직 흐름

### 4단계: 문서와 다른 구현 필요 시 (승인 필수)

구현 중 문서와 다르게 해야 할 상황 발생 시:

1. **즉시 구현 중단**
2. **사용자에게 차이점 설명** (AskUserQuestion 사용)

```markdown
## 문서와 다른 구현 필요

### 문서 내용
> (문서에 명시된 내용 인용)

### 제안하는 구현
> (다르게 구현하려는 내용)

### 차이 발생 이유
- (기술적 이유 1)
- (기술적 이유 2)

### 영향 범위
- (영향 받는 파일/모듈)
```

3. **사용자 선택지 제시:**
   - 문서대로 구현
   - 제안대로 구현 (문서 업데이트 필요)
   - 다른 방법 제안

4. **승인 후에만 진행**

### 5단계: 구현 완료 후 검증

- [ ] 문서의 모든 필수 항목 구현 확인
- [ ] 문서와 다르게 구현한 부분 목록 (승인받은 내용)
- [ ] 문서 업데이트 필요 여부 확인

## 문서-구현 차이 유형

| 차이 유형 | 승인 필요 | 예시 |
|----------|----------|------|
| API 엔드포인트 변경 | 필수 | `/api/tasks` → `/api/todos` |
| 응답 필드 추가/제거 | 필수 | `createdAt` 필드 추가 |
| 소켓 이벤트명 변경 | 필수 | `focused` → `focus_started` |
| 엔티티 컬럼 변경 | 필수 | `status` enum 값 변경 |
| 내부 구현 최적화 | 불필요 | 쿼리 최적화, 변수명 |
| 에러 메시지 개선 | 불필요 | 더 명확한 메시지 |

## 결과 출력

구현 완료 시 다음 형식으로 보고:

```markdown
## 구현 완료 보고

### 기반 문서
- (이슈/문서 경로)

### 구현 항목
- [x] (구현 항목 1)
- [x] (구현 항목 2)

### 문서와 다르게 구현한 부분
| 항목 | 문서 내용 | 실제 구현 | 승인 이유 |
|------|----------|----------|----------|
| (항목) | (문서) | (구현) | (이유) |

### 문서 업데이트 필요
- [ ] `docs/api/...`: (업데이트 내용)

### 다음 단계
- `/ci` 실행
- `/sync-docs` 실행 (문서와 다르게 구현한 경우)
```
